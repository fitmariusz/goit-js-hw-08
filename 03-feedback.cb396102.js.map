{"mappings":"iiBAAA,IAoC4BA,EACEC,EArC9BC,EAAAC,EAAA,SACQC,EAAY,CAChBC,MAAO,GACPC,QAAS,IAGPC,EAAU,sBA2BVC,EAAOC,SAASC,cAAc,kBAC9BC,EAlBO,SAACC,GACZ,IACE,IAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,EAA2BT,EAAYY,KAAKC,MAAMJ,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAMZ,Q,EAa5Bc,CAAKb,GAEtBC,EAAKa,SAAShB,MAAMiB,MAAsB,QAAdtB,EAAAW,EAASN,aAAK,IAAdL,IAAkB,GAC9CQ,EAAKa,SAASf,QAAQgB,MAAwB,QAAhBrB,EAAAU,EAASL,eAAO,IAAhBL,IAAoB,GAElDO,EAAKe,iBAAiB,QAASC,EAAAtB,GAAEuB,UAAS,SAACC,GACzCf,EAASN,MAAQG,EAAKa,SAAShB,MAAMiB,MACrCX,EAASL,QAAUE,EAAKa,SAASf,QAAQgB,MAlC9B,SAACV,EAAKU,GACjB,IACE,IAAMT,EAAkBG,KAAKW,UAAUL,GACvCR,aAAac,QAAQhB,EAAKC,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAMZ,Q,EA8B3CuB,CAAKtB,EAASI,E,GACb,MAEHH,EAAKe,iBAAiB,UAAU,SAACG,GAC7BP,QAAQW,IAAInB,GACZe,EAAIK,iBAtBO,SAACnB,GACd,IACEE,aAAakB,WAAWpB,E,CACxB,MAAOM,GACPC,QAAQD,MAAM,uBAAwBA,EAAMZ,Q,EAmB5C2B,CAAO1B,GACPC,EAAK0B,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash'\n  const dataReset = {\n    email: \"\",\n    message: \"\",\n};\n\nconst keyData = \"feedback-form-state\";\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nconst load = (key) => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? dataReset : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\nconst remove = (key) => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error(\"Remove state error: \", error.message);\n  }\n};\n\nconst form = document.querySelector(\".feedback-form\");\nconst dataForm = load(keyData);\n\nform.elements.email.value = dataForm.email ?? \"\";\nform.elements.message.value = dataForm.message ?? \"\";\n\nform.addEventListener(\"input\", _.throttle((evt) => {\n  dataForm.email = form.elements.email.value;\n  dataForm.message = form.elements.message.value;\n  save(keyData, dataForm);\n}, 500));\n\nform.addEventListener(\"submit\", (evt) => {\n    console.log(dataForm);\n    evt.preventDefault();\n    remove(keyData);\n    form.reset();\n});"],"names":["$b00c40859be242c5$var$_email","$b00c40859be242c5$var$_message","$1WSnx","parcelRequire","$b00c40859be242c5$var$dataReset","email","message","$b00c40859be242c5$var$keyData","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$dataForm","key","serializedState","localStorage","getItem","JSON","parse","error","console","$b00c40859be242c5$var$load","elements","value","addEventListener","$parcel$interopDefault","throttle","evt","stringify","setItem","$b00c40859be242c5$var$save","log","preventDefault","removeItem","$b00c40859be242c5$var$remove","reset"],"version":3,"file":"03-feedback.cb396102.js.map"}