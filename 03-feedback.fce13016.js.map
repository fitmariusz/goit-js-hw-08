{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAY,CACdC,MAAO,GACPC,QAAS,IAEbC,QAAU,sBAEV,MAAMC,EAAO,CAACC,EAAKC,KACjB,IACE,MAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAMV,Q,GAuBvCY,EAAOC,SAASC,cAAc,kBAC9BC,EAAYF,SAASC,cAAc,SACnCE,EAAYH,SAASC,cAAc,YAEnCG,EAvBO,CAACd,IACZ,IACE,MAAME,EAAkBG,aAAaU,QAAQf,GAC7C,OAA2B,OAApBE,EAA2BP,EAAYQ,KAAKa,MAAMd,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAMV,Q,GAkB5BoB,CAAKnB,S,IAIMoB,EACEC,EAH9BX,QAAQY,IAAIN,GAEZL,EAAKY,SAASzB,MAAMK,MAAsB,QAAdiB,EAAAJ,EAASlB,aAAK,IAAdsB,IAAkB,GAC9CT,EAAKY,SAASxB,QAAQI,MAAwB,QAAhBkB,EAAAL,EAASjB,eAAO,IAAhBsB,IAAoB,GAElDP,EAAUU,iBAAiB,QAASC,EAAA9B,GAAE+B,UAAUC,IAC5CX,EAASlB,MAAQ6B,EAAIC,OAAOzB,MAC5BF,EAAKD,QAASgB,EAAS,GACxB,MAEHD,EAAUS,iBAAiB,QAASC,EAAA9B,GAAE+B,UAAUC,IAC5CX,EAASjB,QAAU4B,EAAIC,OAAOzB,MAC9BF,EAAKD,QAASgB,EAAS,GACzB,MAEFL,EAAKa,iBAAiB,UAAWG,IAC/BA,EAAIE,iBACJtB,aAAauB,WAAW9B,SACxBW,EAAKoB,OAAO","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash'\n\nconst dataReset = {\n    email: \"\",\n    message: \"\",\n};\nkeyData = \"feedback-form-state\";\n\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nconst load = (key) => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? dataReset : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\n\n\nconst remove = (key) => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error(\"Remove state error: \", error.message);\n  }\n};\n\nconst form = document.querySelector(\".feedback-form\");\nconst inputMail = document.querySelector(\"input\");\nconst inputText = document.querySelector(\"textarea\");\n\nconst dataForm = load(keyData); \n\nconsole.log(dataForm);\n\nform.elements.email.value = dataForm.email ?? \"\";\nform.elements.message.value = dataForm.message ?? \"\";\n\ninputMail.addEventListener(\"input\", _.throttle((evt) => {\n    dataForm.email = evt.target.value;\n    save(keyData, dataForm);\n}, 500));\n\ninputText.addEventListener(\"input\", _.throttle((evt) => {\n    dataForm.message = evt.target.value;\n    save(keyData, dataForm);\n},500));\n\nform.addEventListener(\"submit\", (evt) => {\n  evt.preventDefault();\n  localStorage.removeItem(keyData);\n  form.reset();\n});"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$dataReset","email","message","keyData","$945622fd0f572e60$var$save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$inputMail","$945622fd0f572e60$var$inputText","$945622fd0f572e60$var$dataForm","getItem","parse","$945622fd0f572e60$var$load","$945622fd0f572e60$var$_email","$945622fd0f572e60$var$_message","log","elements","addEventListener","$parcel$interopDefault","throttle","evt","target","preventDefault","removeItem","reset"],"version":3,"file":"03-feedback.fce13016.js.map"}