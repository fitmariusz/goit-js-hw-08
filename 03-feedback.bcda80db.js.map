{"mappings":"iiBAAA,IA4C4BA,EACEC,EA7C9BC,EAAAC,EAAA,SAEMC,EAAY,CACdC,MAAO,GACPC,QAAS,IAEPC,EAAU,sBAEVC,EAAO,SAACC,EAAKC,GACjB,IACE,IAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAMV,Q,GAuBvCY,EAAOC,SAASC,cAAc,kBAC9BC,EAAYF,SAASC,cAAc,SACnCE,EAAYH,SAASC,cAAc,YAEnCG,EAvBO,SAACd,GACZ,IACE,IAAME,EAAkBG,aAAaU,QAAQf,GAC7C,OAA2B,OAApBE,EAA2BP,EAAYQ,KAAKa,MAAMd,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAMV,Q,EAkB5BoB,CAAKnB,GAEtBU,QAAQU,IAAIJ,GAEZL,EAAKU,SAASvB,MAAMK,MAAsB,QAAdV,EAAAuB,EAASlB,aAAK,IAAdL,IAAkB,GAC9CkB,EAAKU,SAAStB,QAAQI,MAAwB,QAAhBT,EAAAsB,EAASjB,eAAO,IAAhBL,IAAoB,GAElDoB,EAAUQ,iBAAiB,QAASC,EAAA5B,GAAE6B,UAAS,SAACC,GAC5CT,EAASlB,MAAQ2B,EAAIC,OAAOvB,MAC5BF,EAAKD,EAASgB,E,GACf,MAEHD,EAAUO,iBAAiB,QAASC,EAAA5B,GAAE6B,UAAS,SAACC,GAC5CT,EAASjB,QAAU0B,EAAIC,OAAOvB,MAC9BF,EAAKD,EAASgB,E,GAChB,MAEFL,EAAKW,iBAAiB,UAAU,SAACG,GAC/BA,EAAIE,iBACJpB,aAAaqB,WAAW5B,GACxBW,EAAKkB,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash'\n\nconst dataReset = {\n    email: \"\",\n    message: \"\",\n};\nconst keyData = \"feedback-form-state\";\n\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nconst load = (key) => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? dataReset : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\n\n\nconst remove = (key) => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error(\"Remove state error: \", error.message);\n  }\n};\n\nconst form = document.querySelector(\".feedback-form\");\nconst inputMail = document.querySelector(\"input\");\nconst inputText = document.querySelector(\"textarea\");\n\nconst dataForm = load(keyData); \n\nconsole.log(dataForm);\n\nform.elements.email.value = dataForm.email ?? \"\";\nform.elements.message.value = dataForm.message ?? \"\";\n\ninputMail.addEventListener(\"input\", _.throttle((evt) => {\n    dataForm.email = evt.target.value;\n    save(keyData, dataForm);\n}, 500));\n\ninputText.addEventListener(\"input\", _.throttle((evt) => {\n    dataForm.message = evt.target.value;\n    save(keyData, dataForm);\n},500));\n\nform.addEventListener(\"submit\", (evt) => {\n  evt.preventDefault();\n  localStorage.removeItem(keyData);\n  form.reset();\n});"],"names":["$b00c40859be242c5$var$_email","$b00c40859be242c5$var$_message","$1WSnx","parcelRequire","$b00c40859be242c5$var$dataReset","email","message","$b00c40859be242c5$var$keyData","$b00c40859be242c5$var$save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$inputMail","$b00c40859be242c5$var$inputText","$b00c40859be242c5$var$dataForm","getItem","parse","$b00c40859be242c5$var$load","log","elements","addEventListener","$parcel$interopDefault","throttle","evt","target","preventDefault","removeItem","reset"],"version":3,"file":"03-feedback.bcda80db.js.map"}