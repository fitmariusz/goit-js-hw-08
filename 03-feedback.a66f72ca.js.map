{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACE,MAAMC,EAAY,CAChBC,MAAO,GACPC,QAAS,IA8BPC,EAAOC,SAASC,cAAc,kBAC9BC,EAlBO,CAACC,IACZ,IACE,MAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,EAA2BR,EAAYW,KAAKC,MAAMJ,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAMX,Q,GAa5Ba,CA5BD,uB,IA8BYC,EACEC,EAD9Bd,EAAKe,SAASjB,MAAMkB,MAAsB,QAAdH,EAAAV,EAASL,aAAK,IAAde,IAAkB,GAC9Cb,EAAKe,SAAShB,QAAQiB,MAAwB,QAAhBF,EAAAX,EAASJ,eAAO,IAAhBe,IAAoB,GAElDd,EAAKiB,iBAAiB,QAASC,EAAAvB,GAAEwB,UAAUC,IACzCjB,EAASL,MAAQE,EAAKe,SAASjB,MAAMkB,MACrCb,EAASJ,QAAUC,EAAKe,SAAShB,QAAQiB,MAlC9B,EAACZ,EAAKY,KACjB,IACE,MAAMX,EAAkBG,KAAKa,UAAUL,GACvCV,aAAagB,QAAQlB,EAAKC,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAMX,Q,GA8B3CwB,CApCc,sBAoCApB,EAAS,GACtB,MAEHH,EAAKiB,iBAAiB,UAAWG,IAC7BT,QAAQa,IAAIrB,GACZiB,EAAIK,iBAtBO,CAACrB,IACd,IACEE,aAAaoB,WAAWtB,E,CACxB,MAAOM,GACPC,QAAQD,MAAM,uBAAwBA,EAAMX,Q,GAmB5C4B,CA1CY,uBA2CZ3B,EAAK4B,OAAO","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash'\n  const dataReset = {\n    email: \"\",\n    message: \"\",\n};\n\nconst keyData = \"feedback-form-state\";\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nconst load = (key) => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? dataReset : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\nconst remove = (key) => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error(\"Remove state error: \", error.message);\n  }\n};\n\nconst form = document.querySelector(\".feedback-form\");\nconst dataForm = load(keyData);\n\nform.elements.email.value = dataForm.email ?? \"\";\nform.elements.message.value = dataForm.message ?? \"\";\n\nform.addEventListener(\"input\", _.throttle((evt) => {\n  dataForm.email = form.elements.email.value;\n  dataForm.message = form.elements.message.value;\n  save(keyData, dataForm);\n}, 500));\n\nform.addEventListener(\"submit\", (evt) => {\n    console.log(dataForm);\n    evt.preventDefault();\n    remove(keyData);\n    form.reset();\n});"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$dataReset","email","message","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$dataForm","key","serializedState","localStorage","getItem","JSON","parse","error","console","$945622fd0f572e60$var$load","$945622fd0f572e60$var$_email","$945622fd0f572e60$var$_message","elements","value","addEventListener","$parcel$interopDefault","throttle","evt","stringify","setItem","$945622fd0f572e60$var$save","log","preventDefault","removeItem","$945622fd0f572e60$var$remove","reset"],"version":3,"file":"03-feedback.a66f72ca.js.map"}