{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAY,CACdC,MAAO,GACPC,QAAS,IAEbC,QAAU,sBAEV,IAoC4BC,EACEC,EArCxBC,EAAO,SAACC,EAAKC,GACjB,IACE,IAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAMZ,Q,GAuBvCc,EAAOC,SAASC,cAAc,kBAC9BC,EAAYF,SAASC,cAAc,SACnCE,EAAYH,SAASC,cAAc,YAEnCG,EAvBO,SAACd,GACZ,IACE,IAAME,EAAkBG,aAAaU,QAAQf,GAC7C,OAA2B,OAApBE,EAA2BT,EAAYU,KAAKa,MAAMd,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAMZ,Q,EAkB5BsB,CAAKrB,SAEtBY,QAAQU,IAAIJ,GAEZL,EAAKU,SAASzB,MAAMO,MAAsB,QAAdJ,EAAAiB,EAASpB,aAAK,IAAdG,IAAkB,GAC9CY,EAAKU,SAASxB,QAAQM,MAAwB,QAAhBH,EAAAgB,EAASnB,eAAO,IAAhBG,IAAoB,GAElDc,EAAUQ,iBAAiB,QAASC,EAAA9B,GAAE+B,UAAS,SAACC,GAC5CT,EAASpB,MAAQ6B,EAAIC,OAAOvB,MAC5BF,EAAKH,QAASkB,E,GACf,MAEHD,EAAUO,iBAAiB,QAASC,EAAA9B,GAAE+B,UAAS,SAACC,GAC5CT,EAASnB,QAAU4B,EAAIC,OAAOvB,MAC9BF,EAAKH,QAASkB,E,GAChB,MAEFL,EAAKW,iBAAiB,UAAU,SAACG,GAC/BA,EAAIE,iBACJpB,aAAaqB,WAAW9B,SACxBa,EAAKkB,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash'\n\nconst dataReset = {\n    email: \"\",\n    message: \"\",\n};\nkeyData = \"feedback-form-state\";\n\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nconst load = (key) => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? dataReset : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\n\n\nconst remove = (key) => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error(\"Remove state error: \", error.message);\n  }\n};\n\nconst form = document.querySelector(\".feedback-form\");\nconst inputMail = document.querySelector(\"input\");\nconst inputText = document.querySelector(\"textarea\");\n\nconst dataForm = load(keyData); \n\nconsole.log(dataForm);\n\nform.elements.email.value = dataForm.email ?? \"\";\nform.elements.message.value = dataForm.message ?? \"\";\n\ninputMail.addEventListener(\"input\", _.throttle((evt) => {\n    dataForm.email = evt.target.value;\n    save(keyData, dataForm);\n}, 500));\n\ninputText.addEventListener(\"input\", _.throttle((evt) => {\n    dataForm.message = evt.target.value;\n    save(keyData, dataForm);\n},500));\n\nform.addEventListener(\"submit\", (evt) => {\n  evt.preventDefault();\n  localStorage.removeItem(keyData);\n  form.reset();\n});"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$dataReset","email","message","keyData","$b00c40859be242c5$var$_email","$b00c40859be242c5$var$_message","$b00c40859be242c5$var$save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$inputMail","$b00c40859be242c5$var$inputText","$b00c40859be242c5$var$dataForm","getItem","parse","$b00c40859be242c5$var$load","log","elements","addEventListener","$parcel$interopDefault","throttle","evt","target","preventDefault","removeItem","reset"],"version":3,"file":"03-feedback.a79f6ae7.js.map"}